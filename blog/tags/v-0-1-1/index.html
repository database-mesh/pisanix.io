<!doctype html>
<html lang="zh" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Pisanix RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Pisanix Atom Feed"><title data-rh="true">1 ç¯‡åšæ–‡ å«æœ‰æ ‡ç­¾ã€Œv0.1.1ã€ | Pisanix</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.pisanix.io/blog/tags/v-0-1-1"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" property="og:title" content="1 ç¯‡åšæ–‡ å«æœ‰æ ‡ç­¾ã€Œv0.1.1ã€ | Pisanix"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.pisanix.io/blog/tags/v-0-1-1"><link data-rh="true" rel="alternate" href="https://www.pisanix.io/en/blog/tags/v-0-1-1" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.pisanix.io/blog/tags/v-0-1-1" hreflang="zh"><link data-rh="true" rel="alternate" href="https://www.pisanix.io/blog/tags/v-0-1-1" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.457fbd32.css">
<link rel="preload" href="/assets/js/runtime~main.dc2aa4d7.js" as="script">
<link rel="preload" href="/assets/js/main.50be9ba2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Pisanix Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="Pisanix Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a><a class="navbar__item navbar__link" href="/docs/intro">æ–‡æ¡£</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/docs/UseCases/kubernetes">ä½¿ç”¨åœºæ™¯</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/intro">latest</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro">latest</a></li><li><a class="dropdown__link" href="/docs/v0.3.0/intro">v0.3.0</a></li><li><a class="dropdown__link" href="/docs/v0.2.0/intro">v0.2.0</a></li><li><a class="dropdown__link" href="/docs/v0.1.1/intro">v0.1.1</a></li><li><a class="dropdown__link" href="/docs/v0.1.0/intro">v0.1.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>ä¸­æ–‡</span></span></a><ul class="dropdown__menu"><li><a href="/en/blog/tags/v-0-1-1" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/blog/tags/v-0-1-1" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">ä¸­æ–‡</a></li></ul></div><a href="https://github.com/database-mesh/pisanix" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="æœ€è¿‘åšæ–‡å¯¼èˆª"><div class="sidebarItemTitle_uKok margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/releasev020">Pisanix v0.2.0 Released !</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/releasev011">Pisanix v0.1.1 Released !</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/greetings">Hello! Pisanix!</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>1 ç¯‡åšæ–‡ å«æœ‰æ ‡ç­¾ã€Œv0.1.1ã€</h1><a href="/blog/tags">æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_rzP5" itemprop="headline"><a itemprop="url" href="/blog/releasev011">Pisanix v0.1.1 Released !</a></h2><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2022-06-28T00:00:00.000Z" itemprop="datePublished">2022å¹´6æœˆ28æ—¥</time> Â· <!-- -->5 åˆ†é’Ÿé˜…è¯»</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/mlycore" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://github.com/mlycore.png" alt="Maxwell Miao"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mlycore" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Maxwell Miao</span></a></div><small class="avatar__subtitle" itemprop="description">Founder of Pisanix</small></div></div></div><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/xuanyuan300" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://i.imgur.com/aQBGA3H_d.webp?maxwidth=760&amp;fidelity=grand" alt="Jiandong Wu"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/xuanyuan300" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jiandong Wu</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Pisanix</small></div></div></div><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/wbtlb" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://avatars.githubusercontent.com/u/12859337?s=400&amp;u=a7a03e467206e9b248b75fd57f681da7ce2caa34&amp;v=4" alt="Bo Wang"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/wbtlb" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Bo Wang</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Pisanix</small></div></div></div><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://github.com/windghoul" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://raw.githubusercontent.com/windghoul/imagestorge/master/1-200403142639406.jpeg" alt="Zhuo Li"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/windghoul" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Zhuo Li</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer of Pisanix</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Pisanix v0.1.1 is now released three weeks after Pisanix v0.1.0 was released. This new version supports read/write splitting and fixes some problems of the old version.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="pisanix-v011-description">Pisanix v0.1.1 Description<a class="hash-link" href="#pisanix-v011-description" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="new-features">New Features<a class="hash-link" href="#new-features" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>Pisa -Controller<ul><li>Add ReadWriteSplitting configuration to TrafficStrategy CRD</li></ul></li><li>Pisa-Proxy<ul><li>Introduce MetricsManager and MetricsCollector, laying a foundation for processing Metrics later.</li><li>Add sql_under_processingmetric as Gauge, referring to the number of SQL under processing</li><li>Support static read-write splitting rules</li><li>Support TCL statement parsing</li><li>Add show databases,show tables, and create database statements parsing</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="improvements">Improvements<a class="hash-link" href="#improvements" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>Pisa-Controller<ul><li>Fix ApiService json parsing error, resulting in that namespace cannot be deleted. #34</li><li>Support Regex array for CircuitBreak, ConcurrencyControl and ReadWriteSplitting. #123 #124</li><li>Rename sidecar name to pisa-proxy. #72</li><li>Add default host as 0.0.0.0 and port as 3306 to MySQL type VirtualDatabase. #68</li><li>Add server_version to Pisa-Proxy, referring to the MySQL version. #111</li></ul></li><li>Pisa-Proxy<ul><li>Support default admin port as 5591, which can be used to obtain metrics. #121</li><li>Fix the packet processing exceptions when the PREPARE statement is too long. #73</li><li>Fix SQL parsing ability. #98 #104</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="others">Others<a class="hash-link" href="#others" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>Docs<ul><li>The first blogï¼š<a href="https://www.pisanix.io/blog" target="_blank" rel="noopener noreferrer">https://www.pisanix.io/blog</a></li><li>Update CRD descriptionï¼š<a href="https://www.pisanix.io/docs/v0.1.1/UseCases/kubernetes" target="_blank" rel="noopener noreferrer">https://www.pisanix.io/docs/v0.1.1/UseCases/kubernetes</a></li><li>Add read-write splitting descriptionï¼š<a href="https://www.pisanix.io/docs/v0.1.1/Features/readwritesplitting" target="_blank" rel="noopener noreferrer">https://www.pisanix.io/docs/v0.1.1/Features/readwritesplitting</a></li><li>Add versions: For now, v0.1.0 and v0.1.1 documents are available.</li></ul></li><li>Charts<ul><li>Update to 0.1.1</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="introducing-read-write-splitting">Introducing Read-Write Splitting<a class="hash-link" href="#introducing-read-write-splitting" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Read-write splitting is one of the most commonly used MySQL solutions in the industry. In actual scenarios, it can improve query performance and reduce server load. The general structure is as follows:</p><p>Read-write splitting is  part of the traffic strategies in Pisa-Proxy.</p><p>Currently, Pisa-Proxy supports two kinds of read-write splitting solutions:</p><ul><li>Static read-write splitting: no backend awareness of database role change.</li><li>Dynamic read-write splitting (coming): backend awareness of the primary and secondary databases change.</li></ul><p>Currently, both solutions require the configuration of read-write splitting rules. The read-write splitting rule refers to that Pisa-Proxy needs to match the SQL statement queried with the configured rule. If the match succeeds, the SQL statement is routed to the corresponding node according to the rule. If the match fails, the SQL statement is routed to the configured default node.</p><p>There are several concepts includedï¼š</p><ul><li>Node: the backend database node.</li><li>RulesMatch: The RulesMatch engine matches the SQL query statements received by Pisa-Proxy by the compiled rule set.</li><li>TargetRole: The TargetRole group matched by the rule matching engine. Each TargetRole group may contain one or more nodes.</li><li>LoadBalance: The load balancer module will select an appropriate node from the TargetRole group according to corresponding algorithms.</li><li>TargetInstance: nodes selected from the LoadBalance module.</li></ul><p>The implementation logic is as follows: </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="read-write-splitting-configuration">Read-Write Splitting Configuration<a class="hash-link" href="#read-write-splitting-configuration" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><table><thead><tr><th align="center">Property</th><th align="center">Value Type</th><th align="center">Dependency or not</th><th align="center">Default Value</th><th align="center">Implication</th></tr></thead><tbody><tr><td align="center">static</td><td align="center">object</td><td align="center">No</td><td align="center">No</td><td align="center">Static R/W splitting type</td></tr><tr><td align="center">dynamic</td><td align="center">object</td><td align="center">No</td><td align="center">No</td><td align="center">Dynamic R/W splitting configuration</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="static-read-write-splitting-configuration">Static read-write splitting configuration<a class="hash-link" href="#static-read-write-splitting-configuration" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><table><thead><tr><th align="center">Property</th><th align="center">Value Type</th><th align="center">Dependency or not</th><th align="center">Default Value</th><th align="center">Implication</th></tr></thead><tbody><tr><td align="center">defaultTarget</td><td align="center">enum</td><td align="center">No</td><td align="center">No</td><td align="center">The target group of default routing</td></tr><tr><td align="center">rules</td><td align="center">array{rule}</td><td align="center">Yes</td><td align="center">No</td><td align="center">Read-write splitting rule</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="read-write-splitting-rule-description">Read-Write Splitting Rule Description<a class="hash-link" href="#read-write-splitting-rule-description" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>Currently, read-write splitting rules can only be matched through RegEx. The rule configuration description is as follows: </p><table><thead><tr><th align="center">Property</th><th align="center">Value Type</th><th align="center">Dependency or not</th><th align="center">Default Value</th><th align="center">Implication</th></tr></thead><tbody><tr><td align="center">name</td><td align="center">string</td><td align="center">Yes</td><td align="center">No</td><td align="center">Rule name</td></tr><tr><td align="center">type</td><td align="center">string</td><td align="center">Yes</td><td align="center">No</td><td align="center">The routing type belongs to RegEx, and the value here is regex.</td></tr><tr><td align="center">regex</td><td align="center">array{string}</td><td align="center">Yes</td><td align="center">No</td><td align="center">Specific regex, used to match SQL statements</td></tr><tr><td align="center">target</td><td align="center">enum</td><td align="center">Yes</td><td align="center">No</td><td align="center">The TargetRole group that is routed to, corresponding to the value of database-mesh.io/role in DatabaseEndpoint Annotations.</td></tr><tr><td align="center">algorithmName</td><td align="center">enum</td><td align="center">Yes</td><td align="center">No</td><td align="center">The name of the load balancer algorithm used for the machine lists that are routed to the role group.</td></tr></tbody></table><p>Note: the Enum values above are respectively: </p><ul><li>TargetRole Enum value<ul><li>read</li><li>readwrite</li></ul></li><li>algorithName Enum value<ul><li>random</li><li>roundrobin</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="sample">Sample<a class="hash-link" href="#sample" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>The configuration of a complete TrafficStrategy CRD is as follows:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> core.database</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mesh.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TrafficStrategy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">loadBalance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">readWriteSplitting</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">static</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">defaultTarget</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read </span><span class="token comment" style="color:#999988;font-style:italic"># or readwrite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">regex</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^select&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read </span><span class="token comment" style="color:#999988;font-style:italic"># readwrite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">algorithmName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> random </span><span class="token comment" style="color:#999988;font-style:italic"># lb algorithm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> write</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">regex</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^insert&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> readwrite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">algorithmName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> roundrobin</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>The configuration of a complete DatabaseEndpoint CRD is as follows:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> core.database</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mesh.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DatabaseEndpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">database-mesh.io/role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> read </span><span class="token comment" style="color:#999988;font-style:italic"># or readwrite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">MySQL</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">db</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql.default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3306</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span></code></pre><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="community-call">Community Call<a class="hash-link" href="#community-call" title="æ ‡é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>The new version contains 47 PRs and thanks to all the contributors:</p><ul><li>mlycore</li><li>xuanyuan300</li><li>wbtlb</li><li>tuichenchuxin</li><li>windghoul</li><li>TeslaCN</li></ul><p>ğŸ”—Download linkï¼š<a href="https://github.com/database-mesh/pisanix/releases/tag/v0.1.1" target="_blank" rel="noopener noreferrer">https://github.com/database-mesh/pisanix/releases/tag/v0.1.1</a></p><p>Building an open source community needs help from everywhere, no matter it&#x27;s code or documentation, issues or pull requests, community thanks all of your efforts.</p><p>At present, there are some ways to join the community:</p><table><thead><tr><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left">Mailing List</td><td align="left"><a href="https://groups.google.com/g/database-mesh" target="_blank" rel="noopener noreferrer">https://groups.google.com/g/database-mesh</a></td></tr><tr><td align="left">Dev Meetings (Starting Feb 16th, 2022), Bi-weekly Wednesday 9:00AM PST</td><td align="left"><a href="https://meet.google.com/yhv-zrby-pyt" target="_blank" rel="noopener noreferrer">https://meet.google.com/yhv-zrby-pyt</a></td></tr><tr><td align="left">Dev Meetings APAC Friendly (Starting April 27th, 2022), Bi-weekly APAC Wednesday 9:00PM GMT+8</td><td align="left"><a href="https://meeting.tencent.com/dm/6UXDMNsHBVQO" target="_blank" rel="noopener noreferrer">https://meeting.tencent.com/dm/6UXDMNsHBVQO</a></td></tr><tr><td align="left">Wechat Broker</td><td align="left">pisanix</td></tr><tr><td align="left">Slack</td><td align="left"><a href="https://join.slack.com/t/databasemesh/shared_invite/zt-19rhvnxkz-USjZ~am~ghd_Q0q~8bAJXA" target="_blank" rel="noopener noreferrer">https://join.slack.com/t/databasemesh/shared_invite/zt-19rhvnxkz-USjZ~am~ghd_Q0q~8bAJXA</a></td></tr><tr><td align="left">Meetings Notes</td><td align="left"><a href="https://bit.ly/39Fqt3x" target="_blank" rel="noopener noreferrer">https://bit.ly/39Fqt3x</a></td></tr></tbody></table><p>Feel free to talk !</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>æ ‡ç­¾ï¼š</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/pisanix">pisanix</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/v-0-1-1">v0.1.1</a></li></ul></div><div class="col text--right col--3"><a aria-label="é˜…è¯» Pisanix v0.1.1 Released ! çš„å…¨æ–‡" href="/blog/releasev011"><b>é˜…è¯»æ›´å¤š</b></a></div></footer></article><nav class="pagination-nav" aria-label="åšæ–‡åˆ—è¡¨åˆ†é¡µå¯¼èˆª"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">æ–‡æ¡£</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/quickstart">å¿«é€Ÿå¼€å§‹</a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾åŒº</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/maxwell9215" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://databasemesh.slack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">åšå®¢</a></li><li class="footer__item"><a href="https://github.com/database-mesh/pisanix" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 SphereEx Authors. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.dc2aa4d7.js"></script>
<script src="/assets/js/main.50be9ba2.js"></script>
</body>
</html>